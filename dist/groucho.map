{"version":3,"file":"dist/groucho.min.js","sources":["dist/groucho.js"],"names":["groucho","window","$","defaults","taxonomyProperty","trackExtent","favThreshold","trackProperties","lastClicked","ttl","addons","config","hasOwnProperty","userDeferred","Deferred","favoriteTerms","trackOrigins","n","Date","getTime","hit","timestamp","url","location","href","storage","get","document","referrer","set","resolve","trackHit","dlHelper","DataLayerHelper","dataLayer","trackIds","trackVals","i","createActivity","trackClicks","fn","click","this","text","group","data","results","getActivities","diff","length","remove","_key","record","index","returnVals","matchable","RegExp","match","push","sort","a","b","parseInt","split","getFavoriteTerms","vocab","returnAll","threshold","collectTerms","vocName","tid","termProp","returnTerms","count","name","filterByCount","topCount","isEmpty","makeArray","obj","arr","id","prop","pages","userSet","overwrite","userProperty","property","undefined","userGet","propertyName","userProperties","indexOf","replace","schema","keys","user.sessionOrigin","oldKey","version","newKey","ready","jQuery","Zepto","g","defaultStorage","error","console","log","jStorage","value","TTL","deleteKey","available","storageAvailable","clear","flush"],"mappings":"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"}