{"version":3,"file":"dist/groucho.min.js","sources":["dist/groucho.js"],"names":["groucho","window","$","defaults","taxonomyProperty","trackExtent","favThreshold","trackProperties","lastClicked","addons","config","hasOwnProperty","userDeferred","Deferred","favoriteTerms","trackOrigins","n","Date","getTime","hit","timestamp","url","location","href","storage","get","document","referrer","set","resolve","trackHit","dlHelper","DataLayerHelper","dataLayer","trackIds","trackVals","i","createActivity","trackClicks","fn","click","this","text","group","data","results","getActivities","diff","length","remove","_key","record","index","returnVals","matchable","RegExp","match","push","sort","a","b","parseInt","split","getFavoriteTerms","vocab","returnAll","threshold","collectTerms","vocName","tid","termProp","returnTerms","count","name","filterByCount","topCount","isEmpty","makeArray","obj","arr","id","prop","pages","schema","keys","user.sessionOrigin","oldKey","version","newKey","ready","jQuery","Zepto","g","defaultStorage","error","console","log","jStorage","value","deleteKey","available","storageAvailable","clear","flush"],"mappings":"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"}