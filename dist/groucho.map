{"version":3,"file":"dist/groucho.min.js","sources":["dist/groucho.js"],"names":["groucho","window","$","defaults","taxonomyProperty","trackExtent","favThreshold","trackProperties","lastClicked","addons","config","hasOwnProperty","userDeferred","Deferred","favoriteTerms","trackOrigins","n","Date","getTime","hit","timestamp","url","location","href","storage","get","document","referrer","set","resolve","trackHit","dlHelper","DataLayerHelper","dataLayer","trackIds","trackVals","i","createActivity","trackClicks","click","this","text","group","data","results","getActivities","diff","length","remove","_key","record","index","returnVals","matchable","RegExp","match","push","sort","a","b","parseInt","split","getFavoriteTerms","vocab","returnAll","threshold","collectTerms","vocName","tid","termProp","returnTerms","count","name","filterByCount","topCount","isEmpty","makeArray","obj","arr","id","prop","pages","schema","keys","user.sessionOrigin","oldKey","version","newKey","ready","jQuery","Zepto","g","defaultStorage","error","console","log","jStorage","value","deleteKey","available","storageAvailable","clear","flush"],"mappings":";;;;;AAIA,GAAIA,SAAUC,OAAOD,aAGrB,SAAUE,EAAGF,GAGX,GAAIG,IACEC,iBAAoB,OACpBC,YAAe,GACfC,aAAgB,EAChBC,iBACE,QACA,OACA,QAEFC,YAAe,IACfC,UAIN,KAAK,GAAIC,KAAUP,GACZH,EAAQU,OAAOC,eAAeD,KACjCV,EAAQU,OAAOA,GAAUP,EAASO,GAKtCV,GAAQY,aAAeZ,EAAQY,cAAgBV,EAAEW,WAEjDb,EAAQc,eAAgB,EAMxBd,EAAQe,aAAe,WAErB,GAAIC,IAAI,GAAIC,OAAOC,UACfC,GACEC,UAAaJ,EACbK,IAAOpB,OAAOqB,SAASC,KAIxBvB,GAAQwB,QAAQC,IAAI,uBAA0BC,SAASC,UAC1D3B,EAAQwB,QAAQI,IAAI,qBAAsBT,GAIvCnB,EAAQwB,QAAQC,IAAI,iBACvBN,EAAIQ,SAAWD,SAASC,SACxB3B,EAAQwB,QAAQI,IAAI,cAAeT,IAIrCnB,EAAQY,aAAaiB,WAOvB7B,EAAQ8B,SAAW,WAEjB,GAAIC,GAAW,GAAIC,iBAAgBC,WAC/BC,EAAWlC,EAAQU,OAAOH,gBAC1B4B,GACEd,IAAOpB,OAAOqB,SAASC,KAK7B,IAAyB,mBAAdU,WACT,IAAK,GAAIG,KAAKF,GAEPA,EAASvB,eAAeyB,IAGY,mBAA9BL,GAASN,IAAIS,EAASE,MAC/BD,EAAUD,EAASE,IAAML,EAASN,IAAIS,EAASE,IAMrDpC,GAAQqC,eAAe,WAAYF,IAOrCnC,EAAQsC,YAAc,WACftC,EAAQU,OAAOF,aAEJ,aAAZN,EAAEqC,OACJrC,EAAEF,EAAQU,OAAOF,aAAa+B,MAAM,WAClCvC,EAAQwB,QAAQI,IAAI,mBAAoB1B,EAAEsC,MAAMC,WAetDzC,EAAQqC,eAAiB,SAAwBK,EAAOC,GACtD,GAAIC,GAAU5C,EAAQ6C,cAAcH,GAChC1B,GAAI,GAAIC,OAAOC,UACf4B,EAAO,CAMX,IAHA9C,EAAQwB,QAAQI,IAAI,SAAWc,EAAQ,IAAM1B,EAAG2B,GAG5CC,EAAQG,QAAU/C,EAAQU,OAAOL,YAAa,CAChDyC,EAAOF,EAAQG,OAAS/C,EAAQU,OAAOL,WAEvC,KAAK,GAAI+B,GAAE,EAAMU,GAAHV,EAASA,IACrBpC,EAAQwB,QAAQwB,OAAOJ,EAAQR,GAAGa,QAexCjD,EAAQ6C,cAAgB,SAAuBH,GAE7C,GAGIQ,GAHAN,EAAU5C,EAAQwB,QAAQ2B,QAC1BC,KACAC,EAAY,EAAU,GAAIC,QAAO,UAAYZ,EAAQ,IAAK,MAAO,CAGrE,KAAK,GAAIN,KAAKQ,GAEPA,EAAQjC,eAAeyB,KAGxBM,EACkC,OAAhCE,EAAQR,GAAGmB,MAAMF,KAEnBH,EAASlD,EAAQwB,QAAQC,IAAImB,EAAQR,IAErCc,EAAOD,KAAOL,EAAQR,GACtBgB,EAAWI,KAAKN,KAKlBA,EAASlD,EAAQwB,QAAQC,IAAImB,EAAQR,IAErCc,EAAOD,KAAOL,EAAQR,GACtBgB,EAAWI,KAAKN,IAYpB,OAPAE,GAAWK,KAAK,SAAUC,EAAGC,GAC3B,MAAIC,UAASD,EAAEV,KAAKY,MAAM,KAAK,GAAI,IAAMD,SAASF,EAAET,KAAKY,MAAM,KAAK,GAAI,IAC/D,GAEG,IAGPT,GAeTpD,EAAQ8D,iBAAmB,SAA0BC,EAAOC,EAAWC,GAgBrE,QAASC,GAAaC,EAAS/B,GAC7B,IAAK,GAAIgC,KAAOxB,GAAQR,GAAGiC,GAAUF,GAE9BG,EAAY3D,eAAewD,KAC9BG,EAAYH,OAIVG,EAAYH,GAASxD,eAAeyD,GACtCE,EAAYH,GAASC,GAAKG,QAI1BD,EAAYH,GAASC,IAASI,KAAQ5B,EAAQR,GAAGiC,GAAUF,GAASC,GAAMG,MAAS,GAQzF,QAASE,GAAcN,GACrB,GAAIO,GAAWT,CAGf,KAAK,GAAIG,KAAOE,GAAYH,GAEtBG,EAAYH,GAASC,GAAKG,OAASG,IACrCA,EAAWJ,EAAYH,GAASC,GAAKG,MAIzC,KAAKH,IAAOE,GAAYH,GAClBG,EAAYH,GAASC,GAAKG,MAAQG,SAC7BJ,GAAYH,GAASC,EAI5BO,GAAQL,EAAYH,WACfG,GAAYH,GAOvB,QAASS,GAAUC,GACjB,GAAIC,KACJ,KAAK,GAAI1C,KAAKyC,GACZA,EAAIzC,GAAG2C,GAAK3C,EACZ0C,EAAItB,KAAKqB,EAAIzC,GAEf,OAAO0C,GAMT,QAASH,GAAQE,GACf,IAAK,GAAIG,KAAQH,GACf,GAAIA,EAAIlE,eAAeqE,GACrB,OAAO,CAGX,QAAO,EA9ET,GAIIb,GAJAvB,EAAU5C,EAAQ6C,cAAc,YAChCwB,EAAWrE,EAAQU,OAAON,iBAC1B6E,KACAX,IA+EJ,IA3EAP,EAAQA,GAAS,IACjBC,EAAYA,IAAa,EACzBC,EAAYA,GAAajE,EAAQU,OAAOJ,aAyEhB,mBAAb+D,GAA0B,CAEnC,IAAK,GAAIjC,KAAKQ,GAEZ,GAAKA,EAAQjC,eAAeyB,IAGS,mBAA1B6C,GAAMrC,EAAQR,GAAGf,MAAwBuB,EAAQR,GAAGzB,eAAe0D,GAI5E,GAFAY,EAAMrC,EAAQR,GAAGf,MAAO,EAEV,MAAV0C,EAEF,IAAKI,IAAWvB,GAAQR,GAAGiC,GACzBH,EAAaC,EAAS/B,OAKpBQ,GAAQR,GAAGiC,GAAU1D,eAAeoD,IACtCG,EAAaH,EAAO3B,EAQ5B,KAAK4B,EACH,IAAKG,IAAWG,GACdG,EAAcN,EAKlB,IAAc,MAAVJ,EAAe,CACjB,IAAKI,IAAWG,GAEdA,EAAYH,GAAWS,EAAUN,EAAYH,GAI3CH,MAAc,IAChBhE,EAAQc,cAAgBwD,OAK1BA,GAAcM,EAAUN,EAAYP,IAIxC,MAAOO,IAOTtE,EAAQkF,OAAS,WAEf,GAAIC,IACEC,sBACEC,OAAU,sBACVC,QAAW,SAInB,KAAK,GAAIC,KAAUJ,GACoB,OAAhCnF,EAAQwB,QAAQC,IAAI8D,IAAmE,OAA7CvF,EAAQwB,QAAQC,IAAI0D,EAAKI,GAAQF,UAC9ErF,EAAQwB,QAAQI,IAAI2D,EAAQvF,EAAQwB,QAAQI,IAAIuD,EAAKI,GAAQF,SAC7DrF,EAAQwB,QAAQwB,OAAOmC,EAAKI,GAAQF,UAO1CnF,EAAEwB,UAAU8D,MAAM,WAEhBxF,EAAQkF,SAERlF,EAAQe,eACRf,EAAQ8B,WACR9B,EAAQsC,iBAGTrC,OAAOwF,QAAUxF,OAAOyF,OAASzF,OAAOC,EAAGF,QAE9C,IAAIA,SAAUC,OAAOD,aAErB,SAAUE,EAAGyF,GAEX,GAAIC,GACAC,CAGJA,GAAQ,WAEN,MADAC,SAAQC,IAAI,mCACL,GAMJJ,EAAEnE,UACLoE,EAAkB1F,EAAES,eAAe,aAAuC,gBAAfT,GAAE8F,SAG7DL,EAAEnE,SAOAI,IAAK,EAAmB,SAAamD,EAAIkB,GACvC,MAAO/F,GAAE8F,SAASpE,IAAImD,EAAIkB,IACxBJ,EAOJpE,IAAK,EAAmB,SAAasD,GACnC,MAAO7E,GAAE8F,SAASvE,IAAIsD,IACpBc,EAOJ7C,OAAQ,EAAmB,SAAgB+B,GACzC,MAAO7E,GAAE8F,SAASE,UAAUnB,IAC1Bc,EAOJ1C,MAAO,EAAmB,WACxB,MAAOjD,GAAE8F,SAAS7C,SAChB0C,EAKJM,UAAW,EAAmB,WAC5B,MAAOjG,GAAE8F,SAASI,oBAChBP,EAMJQ,MAAO,EAAmB,WACxB,MAAOnG,GAAE8F,SAASM,SAChBT,KAKP5F,OAAOwF,QAAUxF,OAAOyF,OAASzF,OAAOC,EAAGF"}