{"version":3,"file":"dist/groucho.min.js","sources":["dist/groucho.js"],"names":["groucho","window","$","getFavoriteTerms","vocab","returnAll","threshold","collectTerms","vocName","i","tid","results","termProp","returnTerms","hasOwnProperty","count","name","filterByCount","topCount","isEmpty","makeArray","obj","arr","id","push","prop","getActivities","config","taxonomyProperty","pages","favThreshold","url","favoriteTerms","jQuery","Zepto","defaults","trackExtent","trackProperties","lastClicked","ttl","addons","userDeferred","Deferred","document","ready","schema","trackOrigins","trackHit","trackClicks","defaultStorage","error","console","log","storage","jStorage","set","value","TTL","get","remove","deleteKey","index","available","storageAvailable","clear","flush","n","Date","getTime","hit","timestamp","location","href","referrer","resolve","dlHelper","DataLayerHelper","dataLayer","trackIds","trackVals","createActivity","fn","click","this","text","userSet","data","keepExisting","userProperty","property","undefined","userGet","propertyName","userProperties","indexOf","replace","group","diff","length","_key","record","returnVals","matchable","RegExp","match","sort","a","b","parseInt","split","keys","user.sessionOrigin","oldKey","version","newKey"],"mappings":"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"}